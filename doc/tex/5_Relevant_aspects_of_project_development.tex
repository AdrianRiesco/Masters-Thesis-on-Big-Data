\capitulo{5}{Relevant aspects of the project}

%This section aims to collect the most interesting aspects of the development of the project, commented by its authors.
%It must include from the exposition of the life cycle used, to the most relevant details of the analysis, design and implementation phases.
%It is sought that it is not a mere operation of copying and pasting diagrams and extracts from the source code, but that the solution paths that have been taken are really justified, especially those that are not trivial.
%It may be the most appropriate place to document the most interesting aspects of the design and implementation, with a greater emphasis on aspects such as the type of architecture chosen, the indexes of the database tables, normalization and denormalization, distribution in files3, business rules within databases (EDVHV GH GDWRV DFWLYDV), development aspects related to the WWW...
%This section must become the summary of the practical experience of the project, and by itself justifies that the report becomes a useful document, a reference source for authors, tutors and future students.

\nonzeroparskip The first step of the project was to assess the feasibility and viability analysis of the concept devised. The author was looking to use two data sources with:

\begin{itemize}
	\item Real and updated data, preferably related to the social interest.
	\item The possibility of getting a stream data flow.
	\item The potential to combine both to get an added value.
\end{itemize}

\nonzeroparskip Considering the previous points, the author found an interesting option on Twitter and Spotify providers. Both of them provides solid APIs for a fluid development and have the characteristics needed to combine the data collected. Consequently, the author designed the following use case:

\begin{enumerate}
	\item The Twitter API is consulted to gather the \textit{tweets} with the hashtag \texttt{\textit{\#NowPlaying}}.
	\item The tweet is cleaned, removing the stopwords and the other hashtags and getting the song name and artist as isolated as possible.
	\item The Spotify API is consulted to gather the information of the song identified.
	\item The data is joined and moved to the database, ready to be stored and visualized.
\end{enumerate}

\nonzeroparskip During the design phase, the author performed the following tasks:
\begin{itemize}
	\item Parse the output of both APIs using Postman to create the script to extract the data.
	\item Identify the most appropriate software tools to meet the project requirements. At this point, Apache Airflow was determined for flow orchestration, Apache Spark for data processing, Apache Cassandra for data storage, Flask and Bootstrap for data visualization, and Docker and Docker Compose for container management of the services.
	\item ...
\end{itemize}

\nonzeroparskip During the development phase, the following tasks were performed:
\begin{itemize}
	\item A Python script (PySpark, Python API for Apache Spark) was created to collect, join, transform and store the data from the Twitter and Spotify APIs.
	\item Containers for each service were defined in Docker Compose and custom images were created in Docker (if needed):
	\begin{itemize}
		\item Apache Airflow containers configured for flow orchestration: webserver, scheduler, worker, init, triggerer, redis, postgres, client, and flower.
		\item Apache Spark containers were configured for data processing: master and three workers.
The Apache Cassandra container was configured for data storage.
		\item Linux container was configured for data visualization with Flask and Bootstrap.
	\end{itemize}
	\item The DAG in Apache Airflow was configured to automate data extraction, transformation, and loading.
	\item Apache Spark was configured to be able to receive the script sent by Apache Airflow and communicate with Apache Cassandra.
	\item Apache Cassandra was configured with the database and structure required.
\end{itemize}

\nonzeroparskip The project development was undertaken following an Agile methodology, with Sprints of 2 weeks of duration being represented as \textit{Milestones} in Github and the tasks as \textit{Issues}.